---
title: New MeteorJS demos for MQTT and Espruino
tags:
- mqtt
- meteorjs
- espruino
- javascript
---

In the last few days I created two more demo applications on the incredible <a href="http://www.meteor.com/" target="_blank">Meteor</a> platform.<br /><h3>MQTT Dashboard</h3>The first application is an MQTT dashboard (client), which connects to a configured broker and receives the messages for a specific topic. While the messages on an MQTT broker are non-permanent, I'm persisting the messages for some minutes (and purge them afterwards). The last 10 messages are being sent to the dashboard for displaying them. Also, there's an option to publish messages under a topic to the broker.<br />In the first version I tried to use the JavaScript library of <a href="http://www.eclipse.org/paho/" target="_blank">Eclipse Paho</a>, but this is intended for client-usage only and makes use of objects like Websockets, Arraybuffer, etc., which are not part of a Node.js/Meteor server environment. So I switched to the NPM package "<a href="https://www.npmjs.org/package/mqtt" target="_blank">mqtt</a>", which does a really cool job! Easy to include and use!<br />See the sources at GitHub:&nbsp;<a href="https://github.com/dasniko/meteor-mqtt" target="_blank">https://github.com/dasniko/meteor-mqtt</a><br /><h3>Espruino</h3>Since <a href="http://www.espruino.com/" target="_blank">Espruino</a> is a JavaScript device and Meteor is a perfect JS platform, they fit perfectly together! I used the NPM package "<a href="https://www.npmjs.org/package/node-espruino" target="_blank">node-espruino</a>" for communicating via the serial port from my computer with the Espruino. The demo shows, how you can control the Espruino from a web client. In my example, you can just toggle the three built-in LEDs (red, green, blue) on and off. Additionally the status of the LEDs are displayed on the client, not based on the action on the client, but on the executed command on the server.<br />See the sources at GitHub:&nbsp;<a href="https://github.com/dasniko/meteor-espruino" target="_blank">https://github.com/dasniko/meteor-espruino</a><br /><br />Both applications required some asynchronous programming (and thinking), which was not always trivial, because some data propagation has to be done in completely separate calls from the originated call. But thanks to the Meteor <a href="http://docs.meteor.com/#deps" target="_blank">Deps</a> options, this became a no-brainer. :-)<br /><br />Unfortunately, the Espruino does not yet support net or websocket usage (only http). So it can't communicate with an MQTT broker. And since there is no JavaScript client library for MQTT-SN (just C clients), the usage in a sensor network is also not possible, I hope, this will be fixed/supported soon!<br /><br />Please remember, that these are just demo applications, which I created as a kind of proof-of-concept for other, real-word challenges.
